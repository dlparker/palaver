{"id":"palaver-223","title":"[Story-003] Extract EventRouter to event_router.py","description":"Extract EventRouter class from scripts/server.py to src/palaver/fastapi/event_router.py. Keep as pure routing logic with no FastAPI dependencies.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T15:44:00.859845063-06:00","created_by":"dparker","updated_at":"2025-12-27T15:46:06.382585404-06:00","closed_at":"2025-12-27T15:46:06.382585404-06:00","close_reason":"Closed","dependencies":[{"issue_id":"palaver-223","depends_on_id":"palaver-tq2","type":"blocks","created_at":"2025-12-27T15:44:39.680680043-06:00","created_by":"daemon"}]}
{"id":"palaver-aw1","title":"[Story-005] Emit buffered events before speech start","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T16:36:39.663016264-06:00","created_by":"dparker","updated_at":"2025-12-27T16:39:23.575715659-06:00","closed_at":"2025-12-27T16:39:23.575715659-06:00","close_reason":"Closed","dependencies":[{"issue_id":"palaver-aw1","depends_on_id":"palaver-sxg","type":"blocks","created_at":"2025-12-27T16:36:47.971880115-06:00","created_by":"daemon"},{"issue_id":"palaver-aw1","depends_on_id":"palaver-xv9","type":"blocks","created_at":"2025-12-27T16:36:47.988789543-06:00","created_by":"daemon"}]}
{"id":"palaver-c3y","title":"[Story-003] Create status router","description":"Implement create_status_router(server) factory in src/palaver/fastapi/routers/status.py with /status and /health endpoints","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T15:44:07.952329878-06:00","created_by":"dparker","updated_at":"2025-12-27T15:47:03.548864023-06:00","closed_at":"2025-12-27T15:47:03.548864023-06:00","close_reason":"Closed","dependencies":[{"issue_id":"palaver-c3y","depends_on_id":"palaver-d59","type":"blocks","created_at":"2025-12-27T15:44:39.74413227-06:00","created_by":"daemon"}]}
{"id":"palaver-d59","title":"[Story-003] Create EventNetServer base class","description":"Create EventNetServer in src/palaver/fastapi/server.py with pipeline lifecycle management, lifespan context, and add_router() method for composition","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T15:44:03.63419983-06:00","created_by":"dparker","updated_at":"2025-12-27T15:46:34.468996455-06:00","closed_at":"2025-12-27T15:46:34.468996455-06:00","close_reason":"Closed","dependencies":[{"issue_id":"palaver-d59","depends_on_id":"palaver-tq2","type":"blocks","created_at":"2025-12-27T15:44:39.697170074-06:00","created_by":"daemon"}]}
{"id":"palaver-daj","title":"[Story-005] Manual verification with live server","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T16:36:40.050005171-06:00","created_by":"dparker","updated_at":"2025-12-27T16:36:40.050005171-06:00","dependencies":[{"issue_id":"palaver-daj","depends_on_id":"palaver-xkb","type":"blocks","created_at":"2025-12-27T16:36:48.036196015-06:00","created_by":"daemon"}]}
{"id":"palaver-dbl","title":"[Story-004] Integration test event streaming with mock audio","description":"Create tests/test_event_streaming.py. Combine MockStream pattern with websocket testing. Verify events flow, test subscriptions, monitor draft completion.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T16:04:27.575942099-06:00","created_by":"dparker","updated_at":"2025-12-27T16:16:54.865706649-06:00","closed_at":"2025-12-27T16:16:54.865706649-06:00","close_reason":"Closed","dependencies":[{"issue_id":"palaver-dbl","depends_on_id":"palaver-kgp","type":"blocks","created_at":"2025-12-27T16:04:49.912891674-06:00","created_by":"daemon"}]}
{"id":"palaver-eaj","title":"[Story-004] Unit test status router with TestClient","description":"Create tests/test_status_router.py using FastAPI TestClient. Test /health and /status endpoints. Mock EventNetServer for shared context.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T16:04:27.449271903-06:00","created_by":"dparker","updated_at":"2025-12-27T16:08:21.094739826-06:00","closed_at":"2025-12-27T16:08:21.094739826-06:00","close_reason":"Closed"}
{"id":"palaver-kgp","title":"[Story-004] Unit test EventRouter - direct testing","description":"Create tests/test_event_router.py with unit tests for EventRouter. Test routing logic, server-side filtering, event serialization. No HTTP/FastAPI dependencies.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T16:04:27.322310541-06:00","created_by":"dparker","updated_at":"2025-12-27T16:07:28.427606563-06:00","closed_at":"2025-12-27T16:07:28.427606563-06:00","close_reason":"Closed"}
{"id":"palaver-m78","title":"[Story-003] Refactor scripts/server.py to composition","description":"Simplify scripts/server.py to use EventNetServer with router composition pattern. Keep argparse, remove business logic.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T15:44:08.205756443-06:00","created_by":"dparker","updated_at":"2025-12-27T15:47:23.540326546-06:00","closed_at":"2025-12-27T15:47:23.540326546-06:00","close_reason":"Closed","dependencies":[{"issue_id":"palaver-m78","depends_on_id":"palaver-yon","type":"blocks","created_at":"2025-12-27T15:44:39.759970986-06:00","created_by":"daemon"},{"issue_id":"palaver-m78","depends_on_id":"palaver-c3y","type":"blocks","created_at":"2025-12-27T15:44:39.775480629-06:00","created_by":"daemon"}]}
{"id":"palaver-mk9","title":"[Story-005] Add tests for pre-buffer behavior","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T16:36:39.798477047-06:00","created_by":"dparker","updated_at":"2025-12-27T16:43:07.100926147-06:00","closed_at":"2025-12-27T16:43:07.100926147-06:00","close_reason":"Closed","dependencies":[{"issue_id":"palaver-mk9","depends_on_id":"palaver-aw1","type":"blocks","created_at":"2025-12-27T16:36:48.003493059-06:00","created_by":"daemon"}]}
{"id":"palaver-olk","title":"[Story-004] Full server integration test","description":"Create tests/test_server_integration.py. Test complete EventNetServer with mock audio, verify draft recording, test all endpoints during operation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T16:04:27.702836866-06:00","created_by":"dparker","updated_at":"2025-12-27T16:23:48.974721796-06:00","closed_at":"2025-12-27T16:23:48.974721796-06:00","close_reason":"Deferred - current test coverage (83%) adequate for Prototype stage. Test description saved in tests/future_tests.md for potential future implementation if needed.","dependencies":[{"issue_id":"palaver-olk","depends_on_id":"palaver-eaj","type":"blocks","created_at":"2025-12-27T16:04:49.928885429-06:00","created_by":"daemon"},{"issue_id":"palaver-olk","depends_on_id":"palaver-dbl","type":"blocks","created_at":"2025-12-27T16:04:49.94429545-06:00","created_by":"daemon"}]}
{"id":"palaver-sxg","title":"[Story-005] Add pre_buffer configuration to EventRouter","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T16:36:39.418145502-06:00","created_by":"dparker","updated_at":"2025-12-27T16:37:55.711876833-06:00","closed_at":"2025-12-27T16:37:55.711876833-06:00","close_reason":"Closed"}
{"id":"palaver-tmm","title":"[Story-003] Test with existing test_client.py","description":"Verify all Story 002 functionality preserved: server-side filtering, VAD routing, speech-only chunks. Existing test client should work without modification.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T15:44:08.461237329-06:00","created_by":"dparker","updated_at":"2025-12-27T15:49:52.918920276-06:00","closed_at":"2025-12-27T15:49:52.918920276-06:00","close_reason":"Closed","dependencies":[{"issue_id":"palaver-tmm","depends_on_id":"palaver-m78","type":"blocks","created_at":"2025-12-27T15:44:39.79177769-06:00","created_by":"daemon"}]}
{"id":"palaver-tq2","title":"[Story-003] Create fastapi directory structure","description":"Create src/palaver/fastapi/ directory with __init__.py and routers/ subdirectory","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T15:43:57.927465673-06:00","created_by":"dparker","updated_at":"2025-12-27T15:45:25.525489214-06:00","closed_at":"2025-12-27T15:45:25.525489214-06:00","close_reason":"Closed"}
{"id":"palaver-xkb","title":"[Story-005] Integration test with event streaming","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T16:36:39.922211762-06:00","created_by":"dparker","updated_at":"2025-12-27T16:36:39.922211762-06:00","dependencies":[{"issue_id":"palaver-xkb","depends_on_id":"palaver-mk9","type":"blocks","created_at":"2025-12-27T16:36:48.019788928-06:00","created_by":"daemon"}]}
{"id":"palaver-xv9","title":"[Story-005] Implement AudioChunkEvent buffering","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T16:36:39.54175907-06:00","created_by":"dparker","updated_at":"2025-12-27T16:38:30.699996299-06:00","closed_at":"2025-12-27T16:38:30.699996299-06:00","close_reason":"Closed","dependencies":[{"issue_id":"palaver-xv9","depends_on_id":"palaver-sxg","type":"blocks","created_at":"2025-12-27T16:36:47.955627948-06:00","created_by":"daemon"}]}
{"id":"palaver-yon","title":"[Story-003] Create event streaming router factory","description":"Implement create_event_router(server) factory in src/palaver/fastapi/routers/events.py that returns FastAPI router with websocket endpoint","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T15:44:07.686413072-06:00","created_by":"dparker","updated_at":"2025-12-27T15:46:51.329046294-06:00","closed_at":"2025-12-27T15:46:51.329046294-06:00","close_reason":"Closed","dependencies":[{"issue_id":"palaver-yon","depends_on_id":"palaver-223","type":"blocks","created_at":"2025-12-27T15:44:39.712310328-06:00","created_by":"daemon"},{"issue_id":"palaver-yon","depends_on_id":"palaver-d59","type":"blocks","created_at":"2025-12-27T15:44:39.726982038-06:00","created_by":"daemon"}]}
